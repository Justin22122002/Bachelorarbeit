from enum import Enum

class Status(Enum):
    CHANGED_AFTER_MW = "Changed after MW"
    MISSING_AFTER_MW = "Missing after MW"
    NEW_AFTER_MW = "New after MW"

    @classmethod
    def to_code(cls, status: "Status") -> int:
        mapping = {
            cls.CHANGED_AFTER_MW: 1,
            cls.MISSING_AFTER_MW: 2,
            cls.NEW_AFTER_MW: 3,
        }
        return mapping.get(status, 0)

    @classmethod
    def to_code_dynamic(cls, status: "Status") -> int:
        mapping = {member: index for index, member in enumerate(cls(), start=1)}
        return mapping.get(status, 0)
